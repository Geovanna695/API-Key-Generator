<!DOCTYPE html>
<html>
<head>
    <title>Gerador de Chave API</title>
    <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" />
    <style>
    h3 {
        font-family: 'Arial', sans-serif;
        font-size: 2em; /* Aumenta o tamanho da fonte */
        color: #808080; /* Muda a cor do texto para cinza */
        text-shadow: 2px 2px #000000; /* Adiciona uma sombra ao texto */
    }
    </style>
</head>
<body>

<py-script>
import string
import secrets

# Função existente para gerar uma chave API
def generate_api_key(length=25):
    """Generate a random API key."""
    characters = string.ascii_letters + string.digits
    api_key = ''.join(secrets.choice(characters) for _ in range(length))
    return api_key

# Sua função gerador_de_chaves modificada aqui
def gerador_de_chaves():
    while True:
        yield generate_api_key()

# Cria um objeto gerador usando a sua função
gerador = gerador_de_chaves()

# Gera e imprime as chaves API
def generate_keys():
    output = ""
    for _ in range(5):  # Ajuste o número conforme necessário
        output += str(next(gerador)) + "<br>"
    return output

# Exibe as chaves API na página HTML
document.getElementById("api-keys").innerHTML = generate_keys()
</py-script>

<script>
// Função para criptografar a chave da API
function encrypt_api_key(api_key) {
    var secret_key = "your_secret_key";  // Substitua por sua própria chave secreta
    var encrypted_key = CryptoJS.AES.encrypt(api_key, secret_key).toString();
    return encrypted_key;
}

// Obter as chaves da API e criptografá-las
var api_keys = document.getElementById("api-keys").innerHTML.split("<br>");
var encrypted_keys = "";
for (var i = 0; i < api_keys.length; i++) {
    if (api_keys[i] !== "") {
        encrypted_keys += encrypt_api_key(api_keys[i]) + "<br>";
    }
}

// Exibir as chaves da API criptografadas na página HTML
document.getElementById("api-keys").innerHTML = encrypted_keys;
</script>

<h3>Chaves API Geradas:</h3>
<div id="api-keys"></div>

</body>
</html>
